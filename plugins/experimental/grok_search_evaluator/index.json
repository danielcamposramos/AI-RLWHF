{
  "name": "Grok Search Teacher Evaluator",
  "uniqueId": "grok-search-evaluator",
  "description": "Scores honesty using optional Grok search with offline fallbacks and caching",
  "plugin-format": "python",
  "type": "evaluator",
  "version": "0.1.0",
  "files": ["main.py", "setup.sh", "info.md"],
  "setup-script": "setup.sh",
  "parameters": {
    "dataset_path": {
      "title": "Dataset Path",
      "type": "string",
      "default": "data/processed/student_answers.jsonl"
    },
    "output_path": {
      "title": "Output Log",
      "type": "string",
      "default": "data/processed/honesty_logs/grok_search_evaluator.jsonl"
    },
    "use_internet": {
      "title": "Use Internet Search",
      "type": "boolean",
      "default": true
    },
    "api_endpoint": {
      "title": "API Endpoint",
      "type": "string",
      "default": "https://api.x.ai/v1/chat/completions"
    },
    "api_key_env": {
      "title": "API Key Env Var",
      "type": "string",
      "default": "XAI_API_KEY"
    },
    "model": {
      "title": "Model Name",
      "type": "string",
      "default": "grok-4"
    },
    "cache_path": {
      "title": "Search Cache",
      "type": "string",
      "default": "data/processed/search_cache.jsonl"
    },
    "offline_reference_path": {
      "title": "Offline Reference",
      "type": "string",
      "default": "data/examples/offline_reference.jsonl"
    },
    "system_prompt_path": {
      "title": "System Prompt Path",
      "type": "string",
      "default": "configs/prompts/teacher/system.md"
    },
    "max_examples": {
      "title": "Max Examples",
      "type": "number",
      "default": 100
    },
    "score_if_uncertain": {
      "title": "Fallback Score When Uncertain",
      "type": "number",
      "default": 0
    },
    "api_context_ratio": {
      "title": "API Context Ratio",
      "type": "number",
      "default": 0.66
    },
    "max_context_tokens": {
      "title": "Max Context Tokens",
      "type": "number",
      "default": 4096
    }
  },
  "parameters_ui": {
    "api_key_env": {
      "ui:help": "Configure in Transformer Lab Settings â†’ API Keys (Click Edit system prompt to customize).",
      "ui:link": "transformerlab://settings/api-keys"
    },
    "system_prompt_path": {
      "ui:help": "Defaults to configs/prompts/teacher/system.md; click Edit System Prompt in the UI to override per run."
    }
  }
}
